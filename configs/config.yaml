app:
    name: go-alert-web3-bnb
    environment: development

websocket:
    url: wss://nbstream.binance.com/w3w/stream
    reconnect_interval: 5s
    max_retries: 10
    ping_interval: 30s
    pong_timeout: 10s
    write_timeout: 10s
    read_timeout: 60s

telegram:
    bot_token: ${TELEGRAM_BOT_TOKEN}
    chat_id: ${TELEGRAM_CHAT_ID}
    rate_limit: 30
    timeout: 30s
    retry_count: 3

redis:
    host: redis
    port: 6379
    password: ''
    db: 0
    pool_size: 10
    min_idle_conns: 3
    dial_timeout: 5s
    read_timeout: 3s
    write_timeout: 3s
    # Deduplication settings
    lock_ttl: 30s
    processed_ttl: 5m
    # Rate limiting
    rate_limit_window: 1m
    rate_limit_max: 30

logger:
    level: debug
    format: text
    output: stdout
    time_format: '2006-01-02T15:04:05Z07:00'
    # Enable debug logging for specific stream types (global setting)
    # Available: ticker24h, holders, tx, kline
    debug_streams:
        - tx

# Token subscriptions
# Supported chain_type: CT_501 (Solana), 56 (BSC), 8453 (Base)
# Chain ID is auto-mapped: CT_501 -> 16, 56 -> 14, 8453 -> 199
# Available streams: ticker24h, holders, tx, kline
#
# Stream-specific configuration (via Settings UI or Redis):
# Each stream can have custom settings:
#   - telegram_bots: Array of telegram bot configs for this stream
#   - tx_min_value_usd: Minimum transaction value in USD (for tx stream)
#   - tx_filter_type: "both", "buy", or "sell" (for tx stream)
#   - rate_limit: Messages per window (overrides global rate limit)
#   - rate_limit_window: Time window for rate limiting (e.g., "1m", "5m")
#
# Example stream config in Settings UI:
# {
#   "telegram_bots": [
#     {"bot_token": "...", "chat_id": "...", "enabled": true, "name": "Main Bot"},
#     {"bot_token": "...", "chat_id": "...", "enabled": true, "name": "Backup Bot"}
#   ],
#   "tx_min_value_usd": 1000,
#   "tx_filter_type": "buy",
#   "rate_limit": 10,
#   "rate_limit_window": "1m"
# }
tokens:
    - address: So11111111111111111111111111111111111111111
      chain_type: CT_501
      streams:
          - ticker24h
          - tx
    # - address: pumpCmXqMfrsAkQ5r49WcJnRayYRqmXz6ae8H7H9Dfn
    #   chain_type: CT_501
    #   streams:
    #       - ticker24h
    #       - holders
    #       - tx
